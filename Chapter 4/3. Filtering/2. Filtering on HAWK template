#########################
#In order to filter variants as shown in Chapter 4, Figure 4.1 on the WES ARCCA hawk supercomputer I used a general template and interchanged the basic code for each task. Below is an example. I did cat all the annotated files together prior to this step.
######################## 

#!/bin/bash --login
#SBATCH -J AmyHouseman_grepPASS
#SBATCH -o %x.stdout.%J.%N
#SBATCH -e %x.stderr.%J.%N
#SBATCH --ntasks=1
#SBATCH --ntasks-per-node=1
#SBATCH -p htc
#SBATCH --account=scw1581
#SBATCH --mail-type=ALL          # Mail events (NONE, BEGIN, END, FAIL, ALL)
#SBATCH --mail-user=HousemanA@cardiff.ac.uk     # Where to send mail
#SBATCH --mem-per-cpu=128GB


# Set bash error trapping to exit on first error.
set -eu

INPUTVCF=/large/file/that/contains/all/of/the/annotated/patient/variants/.txt
CHROMPASS=/file/containing/words/you/want/to/extract/or/input/the/name/of/.txt
OUTPUTVCF=/file/that/contains/only/the/annotated/patient/variants/that/PASS/variantcalling/.txt

LC_ALL=C fgrep -wf $CHROMPASS $INPUTVCF > $OUTPUTVCF

#########################
#For each filtering option that included a word, I changed the CHROM_PASS file name and contents to match; for example: to filter for only HIGH and MODERATE impact variants I made a file called CHROM_HIGH_MODERATE, which contained:

CHROM
HIGH 
MODERATE

#Which can then be used as the input file for grep -wf. 

#The template for submitting to the supercomputer stayed the same with alternative lines of codes used for the different filtering steps using.
###########################
